<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>–ö–∞—Ç–∞–ª–æ–≥ —Ç—é–ª—å–ø–∞–Ω–æ–≤ ‚Äî –¢—é–ª—å–ø–∞–Ω03.—Ä—Ñ</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icon.png">
  <link rel="shortcut icon" type="image/png" href="favicon.png">

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Roboto,Inter,sans-serif;
      background:#f4b6d2;
      color:#111;
    }
    .container{
      max-width:1100px;
      margin:0 auto;
      padding:16px;
    }
    header{
      background:#fff;
      padding:16px;
      border-radius:14px;
      border:1px solid #e5e7eb;
      margin-bottom:20px;
    }
    h1{
      margin:10px 0 6px;
      font-size:26px;
    }
    .subtitle{
      color:#666;
      margin-bottom:20px;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
      gap:16px;
    }
    .card{
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:14px;
      overflow:hidden;
    }
    .card img{
      width:100%;
      height:200px;
      object-fit:cover;
    }
    .card .body{
      padding:12px;
    }
    .price{
      font-weight:700;
      color:#E33400;
      margin:4px 0;
    }
    .qty-ctrl{
      display:inline-flex;
      border:1px solid #ccc;
      border-radius:8px;
      overflow:hidden;
      background:#fff;
    }
    .qty-ctrl button{
      width:34px;
      height:34px;
      border:0;
      background:#fff;
      font-size:20px;
      cursor:pointer;
    }
    .qty-ctrl input{
      width:80px;
      text-align:center;
      border:0;
      font-size:18px;
    }
    .btn-add{
      margin-top:10px;
      background:#E33400;
      color:#fff;
      border:0;
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      font-weight:700;
    }
    .btn-cart{
      display:block;
      margin:24px auto 0;
      max-width:320px;
      text-align:center;
      background:#111827;
      color:#fff;
      padding:12px 16px;
      border-radius:10px;
      text-decoration:none;
      font-weight:700;
    }
  </style>
</head>

<body>
<div class="container">
  <header>
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
      <div class="logo" style="font-size:22px;font-weight:800;">üå∑ –¢—é–ª—å–ø–∞–Ω03</div>

      <nav style="display:flex;gap:18px;font-weight:500;">
        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      </nav>
    </div>

    <h1>–ö–∞—Ç–∞–ª–æ–≥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏—Ö —Ç—é–ª—å–ø–∞–Ω–æ–≤</h1>
    <p class="subtitle">
      –ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –∏–∑ —Ç–µ–ø–ª–∏—Ü –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è. –¢–æ—á–Ω–∞—è —Ü–µ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ.
    </p>
  </header>


  <div class="grid" id="catalog"></div>

  <a href="cart.html" class="btn-cart">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>
</div>

<script>
  const products = [
    {name:"–ñ—ë–ª—Ç—ã–π",           img:"yellow.jpg",         type:"smooth"},
    {name:"–ë–µ–ª—ã–π",            img:"white.jpg",          type:"smooth"},
    {name:"–ö—Ä–µ–º–æ–≤—ã–π",         img:"cream.jpg",          type:"smooth"},
    {name:"–†–æ–∑–æ–≤—ã–π",          img:"pink.jpg",           type:"smooth"},
    {name:"–ö—Ä–∞—Å–Ω—ã–π",          img:"red.jpg",            type:"smooth"},
    {name:"–ö—Ä–∞—Å–Ω–æ-–∂—ë–ª—Ç—ã–π",    img:"redyellow.jpg",      type:"smooth"},
    {name:"–ö—Ä–∞—Å–Ω–æ-–±–µ–ª—ã–π",     img:"redwhite.jpg",       type:"smooth"},
    {name:"–ë–µ–ª–æ-—Å–∏—Ä–µ–Ω–µ–≤—ã–π",   img:"whiteviolet.jpg",    type:"smooth"},
    {name:"–ë–µ–ª–æ-—Ä–æ–∑–æ–≤—ã–π",     img:"whitepink.jpg",      type:"smooth"},
    {name:"–û—Ä–∞–Ω–∂–µ–≤—ã–π",        img:"orange.jpg",         type:"smooth"},
    {name:"–§–∏–æ–ª–µ—Ç–æ–≤—ã–π",       img:"violet.jpg",         type:"smooth"},

    {name:"–ú–∏–∫—Å", img:null, type:"mix", custom:true},

    {name:"–ú–∞—Ö—Ä–æ–≤—ã–π –∂—ë–ª—Ç—ã–π",  img:"mahrovy-yellow.jpg", type:"terry"},
    {name:"–ú–∞—Ö—Ä–æ–≤—ã–π —Ä–æ–∑–æ–≤—ã–π", img:"mahrovy-rozovyj.jpg",type:"terry"}
  ];

  const PACK = 20;
  const box = document.getElementById("catalog");

  function normalizeQty(v){
    v = parseInt(v,10);
    if (isNaN(v)) v = PACK;
    if (v < PACK) v = PACK;
    return Math.round(v/PACK)*PACK;
  }

  box.innerHTML = products.map(p => `
    <div class="card">

      ${p.custom
        ? `
          <div style="
            width:100%;height:200px;background:#fff2f6;
            display:flex;align-items:center;justify-content:center;
            padding:10px;text-align:center;font-size:15px;font-weight:600;
            color:#b3005a;border-bottom:1px solid #eee;
          ">
            –≠—Ç–∞ –ø–æ–∑–∏—Ü–∏—è –æ–∑–Ω–∞—á–∞–µ—Ç –≤—ã–±–æ—Ä —Ä–∞—Å—Ü–≤–µ—Ç–∫–∏ –Ω–∞ –Ω–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ.
          </div>
        `
        : `<img src="${p.img}" alt="${p.name}">`
      }

      <div class="body">
        <strong>${p.name}</strong>
        <div class="price">–æ—Ç 75 ‚ÇΩ</div>

        <div class="qty-ctrl">
          <button onclick="chgQty('${p.name}',-PACK)">‚àí</button>
          <input id="qty_${p.name}" value="${PACK}" onchange="manual('${p.name}',this.value)">
          <button onclick="chgQty('${p.name}',+PACK)">+</button>
        </div>

        <button class="btn-add" onclick="addToCart('${p.name}','${p.type}')">
          –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
        </button>
      </div>
    </div>
  `).join("");

  function chgQty(name,delta){
    let el = document.getElementById("qty_"+name);
    let v = parseInt(el.value,10);
    v = normalizeQty(v + delta);
    el.value = v;
  }

  function manual(name,value){
    let el = document.getElementById("qty_"+name);
    el.value = normalizeQty(value);
  }

  function addToCart(name,type){
    let qty = parseInt(document.getElementById("qty_"+name).value,10);
    qty = normalizeQty(qty);

    let cart = JSON.parse(localStorage.getItem("tulpan03_cart") || "[]");
    let item = cart.find(i => i.name===name && i.type===type);

    if(item) item.qty += qty;
    else cart.push({name,type,qty});

    localStorage.setItem("tulpan03_cart",JSON.stringify(cart));
    alert(`${name} ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–æ ${qty} —à—Ç`);
  }
</script>

</body>
</html>

