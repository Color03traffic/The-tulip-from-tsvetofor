<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Цветофор · Тюльпаны — Мини‑сайт заказов</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect fill="white" width="64" height="64"/><path d="M32 42c6-6 10-12 10-18 0-6-4-10-10-10s-10 4-10 10c0 6 4 12 10 18z" fill="%23ff6fa5"/><path d="M32 60c0-10-3-18-9-24" stroke="%232BB24C" stroke-width="4" fill="none"/><path d="M32 60c0-10 3-18 9-24" stroke="%232BB24C" stroke-width="4" fill="none"/></svg>'/>
  <style>
    :root{ --brand-primary:#2BB24C; --brand-accent:#FFD400; --brand-danger:#E53935; --border:#e5e7eb; --pink-1:#ffe8f2; --pink-2:#fff0f7; }
    *{box-sizing:border-box}
    body{ margin:0; font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial; background:linear-gradient(to bottom,var(--pink-1),var(--pink-2)); color:#111; }
    a{color:inherit;text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:0 16px}
    .top{border-bottom:1px solid var(--border);background:#fff}
    .top-inner{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px 0}
    .brand{display:flex;align-items:center;gap:12px}
    .brand-logo{width:36px;height:36px;border-radius:14px;display:grid;place-items:center;background:#fff;border:1px solid var(--border)}
    .brand-logo svg{width:26px;height:26px;display:block}
    .brand-title{font-size:30px;font-weight:800;letter-spacing:.5px;line-height:1}
    .city{padding:6px 10px;border-radius:12px;border:1px solid var(--border);background:#fff}
    .links a{padding:6px 10px;border-radius:12px;font-size:12px;color:#6b7280}
    .tabs{position:sticky;top:0;z-index:5;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
    .tabs-inner{display:flex;align-items:center;gap:8px;justify-content:space-between;padding:10px 0}
    .tab{padding:10px 14px;border:1px solid var(--border);border-radius:14px;background:#fff;font-weight:600;cursor:pointer}
    .tab.active{background:#f3f4f6}
    .btn{padding:10px 14px;border:1px solid var(--border);border-radius:14px;background:#fff;font-weight:600;cursor:pointer}
    .btn-primary{background:var(--brand-primary);border-color:var(--brand-primary);color:#fff}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-size:12px;background:rgba(43,178,76,.08);color:var(--brand-primary)}
    .grid{display:grid;gap:16px}
    .grid-cols{grid-template-columns:1.2fr .8fr}
    .card{background:#fff;border:1px solid var(--border);border-radius:20px;box-shadow:0 2px 10px rgba(0,0,0,.03)}
    .thumb{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:20px 20px 0 0;display:block}
    .list{display:grid;gap:16px}
    @media(min-width:720px){.list{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1080px){.list{grid-template-columns:repeat(3,1fr)}}
    .price{border:1px solid currentColor;border-radius:999px;font-size:12px;padding:2px 8px}
    .muted{color:#6b7280} .xs{font-size:12px}
    .footer{font-size:12px;color:#6b7280;text-align:center;padding:24px 0}
    .hidden{display:none}
    .input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px}
    .about{background:#fff;border:1px solid var(--border);border-radius:20px;padding:20px}
  </style>
</head>
<body>
  <script>
    const CONFIG = {
      theme: { brandPrimary:"#2BB24C", gradientFrom:"#ffe8f2", gradientTo:"#fff0f7", border:"#e5e7eb" },
      brand: { title:"ЦВЕТОФОР", tagline:"сеть цветочных магазинов", logoUrl:"" },
      cities:[
        { name:"Улан-Удэ", phone:"+7 (3012) 50-22-20", address:"ул. Смолина, 54А" },
        { name:"Иркутск",  phone:"+7 (3952) 66-33-22", address:"ул. Карла Маркса, 23" },
        { name:"Ангарск",  phone:"+7 (3955) 55-55-20", address:"182 квартал, 13" },
        { name:"Чита",     phone:"+7 (3022) 22-20-22", address:"ул. Амурская, 10" }
      ],
      catalog:[
        { id:"red-impression", name:"Red Impression", price:25, stem:"40–50 см", desc:"Классический алый сорт, крупный бутон 7–8 см.", color:"#d7263d", img:"https://images.unsplash.com/photo-1468824357306-a439d58ccb1c?q=80&w=1200&auto=format&fit=crop" },
        { id:"strong-gold",    name:"Strong Gold",    price:27, stem:"40–50 см", desc:"Насыщенно-жёлтый сорт с прочным стеблем.",       color:"#f0c419", img:"https://images.unsplash.com/photo-1464965911861-746a04b4bca6?q=80&w=1200&auto=format&fit=crop" },
        { id:"purple-prince",  name:"Purple Prince",  price:28, stem:"40–50 см", desc:"Фиолетовый сорт с бархатными лепестками.",        color:"#6a0dad", img:"https://images.unsplash.com/photo-1456763961288-cde5f0a7c3fe?q=80&w=1200&auto=format&fit=crop" },
        { id:"yellow-flight",  name:"Yellow Flight",  price:26, stem:"40–50 см", desc:"Солнечный жёлтый, ровная цветная плантация.",     color:"#ffd166", img:"https://images.unsplash.com/photo-1528832636320-3a99f6fb0f58?q=80&w=1200&auto=format&fit=crop" },
        { id:"white-snow",     name:"White Snow",     price:26, stem:"40–50 см", desc:"Чисто-белые бутоны, акцент на нежность.",         color:"#f7f7f7", img:"https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop" }
      ],
      texts:{ ribbon:"Весенняя коллекция • предзаказ", heroTitle:"Тюльпаны оптом: выберите сорт, количество и добавьте в корзину", heroSubtitle:"Крупные бутоны, ровная длина, бережная поставка. Доступны упаковки ×50/×100/×200.", quickOrder:"Быстрый заказ", btnAdd:"Добавить в корзину", btnGoCheckout:"Перейти к оформлению", checkoutTitle:"Корзина", contactTitle:"Данные для связи", successTitle:"Заказ отправлен!", successNumber:"Номер заказа:", adminTitle:"Админ — управление сортами", adminNote:"Вкл/выкл доступность, правка базовой цены, визуальный контроль." },
      about:{ enable:true, title:"О компании", text:"«Цветофор» — сеть цветочных магазинов с понятными ценами и свежими поставками. Мы помогаем красиво выражать чувства с 2017 года. Быстрая доставка, гарантия свежести каждого букета.", bullets:["Свежие поставки ежедневно","Оптовые цены и предзаказы","Быстрая доставка по городу"] }
    };
  </script>

  <div class="top">
    <div class="container top-inner">
      <div class="brand">
        <div class="brand-logo" id="logoBox" aria-hidden="true">
          <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect fill="#fff" width="64" height="64"/>
            <path d="M32 42c6-6 10-12 10-18 0-6-4-10-10-10s-10 4-10 10c0 6 4 12 10 18z" fill="#ff6fa5"/>
            <path d="M32 60c0-10-3-18-9-24" stroke="#2BB24C" stroke-width="4" fill="none"/>
            <path d="M32 60c0-10 3-18 9-24" stroke="#2BB24C" stroke-width="4" fill="none"/>
          </svg>
        </div>
        <div>
          <div class="brand-title" id="brandTitle">ЦВЕТОФОР</div>
          <div class="xs muted" id="brandTagline">сеть цветочных магазинов</div>
        </div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <select class="city" id="city"></select>
        <nav class="links">
          <a href="#" onclick="switchTab('catalog')">Каталог</a>
          <a href="#about">О нас</a>
          <a href="#" onclick="switchTab('checkout')">Оформление</a>
          <a href="#contacts">Контакты</a>
        </nav>
      </div>
    </div>
  </div>

  <div class="tabs">
    <div class="container tabs-inner">
      <div></div>
      <div style="display:flex;gap:8px">
        <button class="tab active" data-tab="catalog">Каталог</button>
        <button class="tab" data-tab="checkout">Корзина/оформление</button>
        <button class="tab" data-tab="success">Успех</button>
        <button class="tab" data-tab="admin">Админ</button>
      </div>
    </div>
  </div>

  <section id="catalog" class="container" style="padding:24px 16px">
    <div class="card" style="padding:24px;margin-bottom:16px">
      <div class="grid grid-cols" style="gap:16px">
        <div>
          <span class="pill" id="ribbon"></span>
          <h1 style="margin:12px 0 0;font-size:28px;font-weight:800;line-height:1.2" id="heroTitle"></h1>
          <p class="muted" style="margin:8px 0 0;max-width:680px" id="heroSubtitle"></p>
          <div style="margin-top:16px"><input class="input" placeholder="Поиск по сортам и цветам..." id="search"/></div>
        </div>
        <div class="card" style="overflow:hidden"><img class="thumb" src="https://images.unsplash.com/photo-1464965911861-746a04b4bca6?q=80&w=1200&auto=format&fit=crop" alt="Tulips"/></div>
      </div>
    </div>

    <div class="grid grid-cols" style="gap:16px">
      <div>
        <div style="display:flex;justify-content:space-between;align-items:end">
          <h2 style="font-size:20px;font-weight:700">Каталог сортов</h2>
          <div class="xs muted">Найдено: <span id="found">0</span></div>
        </div>
        <div class="list" style="margin-top:8px" id="catalogList"></div>
      </div>

      <div class="card" style="padding:16px">
        <h3 style="font-size:18px;font-weight:600" id="quickOrder"></h3>
        <div class="muted xs" style="margin-top:8px" id="quickOrderHint">Выберите сорт слева, затем укажите количество и добавьте в корзину.</div>
        <div style="margin-top:12px">
          <div style="font-size:14px;font-weight:600">Количество, шт</div>
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
            <button class="btn qty-btn" data-n="50">×50</button>
            <button class="btn qty-btn" data-n="100">×100</button>
            <button class="btn qty-btn" data-n="200">×200</button>
            <input id="qtyInput" class="input" style="width:120px" type="number" min="1" step="1" placeholder="Своё кол-во" />
          </div>
        </div>
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;background:rgba(43,178,76,.06);padding:12px;border-radius:14px">
          <div class="muted" style="font-size:14px">Итог за выбранный сорт:</div>
          <div style="font-size:18px;font-weight:800;color:var(--brand-primary)" id="sum">— ₽</div>
        </div>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn btn-primary" id="btnAdd">Добавить в корзину</button>
          <button class="btn" id="btnGoCheckout">Перейти к оформлению</button>
        </div>
      </div>
    </div>
  </section>

  <section id="checkout" class="container hidden" style="padding:24px 16px">
    <div class="grid" style="gap:16px;grid-template-columns:1fr 1fr">
      <div class="card" style="padding:16px">
        <h2 style="font-size:18px;font-weight:600" id="checkoutTitle"></h2>
        <div style="margin-top:8px" id="cartList"></div>
        <div class="card" style="margin-top:8px;padding:10px;font-size:12px;color:#4b5563">Город: <b id="summaryCity">—</b> • Телефон: <b id="summaryPhone">—</b> • Адрес: <b id="summaryAddr">—</b></div>
      </div>

      <form class="card" style="padding:16px">
        <h2 style="font-size:18px;font-weight:600" id="contactTitle"></h2>
        <div class="grid" style="gap:10px">
          <div>
            <label class="xs muted">Имя*</label>
            <input class="input" placeholder="Как к вам обращаться" />
          </div>
          <div>
            <label class="xs muted">Телефон*</label>
            <input class="input" placeholder="Телефон для подтверждения" />
          </div>
          <div>
            <label class="xs muted">Комментарий к заказу</label>
            <textarea rows="3" class="input" placeholder="Сроки, упаковка, адрес склада"></textarea>
          </div>
        </div>
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px">
          <div class="xs muted">Нажимая, вы соглашаетесь с обработкой персональных данных.</div>
          <button class="btn btn-primary" type="button" onclick="showSuccess()">Отправить заказ</button>
        </div>
      </form>
    </div>
  </section>

  <section id="success" class="container hidden" style="padding:48px 16px;text-align:center">
    <div class="card" style="max-width:560px;margin:0 auto;padding:24px">
      <div style="font-size:32px">✅</div>
      <h1 style="margin:8px 0 0;font-size:24px;font-weight:800" id="successTitle"></h1>
      <p class="muted" style="margin:8px 0 0"><span id="successNumber"></span> <span style="font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas">ORD-ABCD12</span></p>
      <p class="muted" style="margin:8px 0 0">Ваш город: <b id="successCity">—</b></p>
      <div style="margin-top:16px;display:flex;justify-content:center;gap:8px">
        <button class="btn" onclick="switchTab('catalog')">Вернуться в каталог</button>
        <button class="btn btn-primary" onclick="switchTab('checkout')">Повторить оформление</button>
      </div>
    </div>
  </section>

  <section id="admin" class="container hidden" style="padding:24px 16px">
    <div class="card" style="padding:16px">
      <h1 style="font-size:20px;font-weight:800" id="adminTitle"></h1>
      <p class="muted" style="margin:4px 0 0" id="adminNote"></p>
      <div class="list" style="margin-top:12px" id="adminList"></div>
    </div>
  </section>

  <section id="about" class="container" style="padding:24px 16px">
    <div class="about">
      <h2 style="margin:0 0 8px;font-size:20px;font-weight:800">О компании</h2>
      <p id="aboutText" class="muted" style="margin:6px 0 10px"></p>
      <ul id="aboutList" class="muted" style="margin:0 0 0 18px"></ul>
    </div>
  </section>

  <div class="footer" id="contacts">
    <span id="footCity">—</span> · <span id="footAddr">—</span> · <span id="footPhone">—</span><br/>
    © <span id="year"></span> Цветофор · Быстрая поставка · Гарантия свежести
  </div>

  <script>
    // THEME
    document.documentElement.style.setProperty('--brand-primary', CONFIG.theme.brandPrimary);
    document.documentElement.style.setProperty('--pink-1', CONFIG.theme.gradientFrom);
    document.documentElement.style.setProperty('--pink-2', CONFIG.theme.gradientTo);
    document.documentElement.style.setProperty('--border', CONFIG.theme.border);

    // BRAND
    brandTitle.textContent = CONFIG.brand.title;
    brandTagline.textContent = CONFIG.brand.tagline;
    if (CONFIG.brand.logoUrl) {
      logoBox.innerHTML = '<img src="'+CONFIG.brand.logoUrl+'" alt="Логотип Цветофор" style="width:100%;height:100%;object-fit:contain">';
    }

    // TEXTS
    ribbon.textContent = CONFIG.texts.ribbon;
    heroTitle.textContent = CONFIG.texts.heroTitle;
    heroSubtitle.textContent = CONFIG.texts.heroSubtitle;
    quickOrder.textContent = CONFIG.texts.quickOrder;
    btnAdd.textContent = CONFIG.texts.btnAdd;
    btnGoCheckout.textContent = CONFIG.texts.btnGoCheckout;
    checkoutTitle.textContent = CONFIG.texts.checkoutTitle;
    contactTitle.textContent = CONFIG.texts.contactTitle;
    successTitle.textContent = CONFIG.texts.successTitle;
    successNumber.textContent = CONFIG.texts.successNumber;
    adminTitle.textContent = CONFIG.texts.adminTitle;
    adminNote.textContent = CONFIG.texts.adminNote;

    // ABOUT
    if(CONFIG.about?.enable){
      aboutText.textContent = CONFIG.about.text;
      aboutList.innerHTML = CONFIG.about.bullets.map(b=>'<li>'+b+'</li>').join('');
    }

    // CITY SELECT
    CONFIG.cities.forEach(c=>{ const o=document.createElement('option'); o.textContent=c.name; city.appendChild(o); });
    function applyCity(){
      const name = city.value || CONFIG.cities[0].name;
      const c = CONFIG.cities.find(x=>x.name===name) || CONFIG.cities[0];
      footCity.textContent = c.name; footAddr.textContent = c.address; footPhone.textContent = c.phone;
      summaryCity.textContent = c.name; summaryPhone.textContent = c.phone; summaryAddr.textContent = c.address; successCity.textContent = c.name;
    }
    city.addEventListener('change', applyCity);
    city.value = CONFIG.cities[0].name; applyCity();

    // CATALOG
    function money(n){ return new Intl.NumberFormat('ru-RU').format(n); }
    function renderCatalog(q=""){
      const items = CONFIG.catalog.filter(t => !q || (t.name.toLowerCase().includes(q) || (t.desc||'').toLowerCase().includes(q)));
      catalogList.innerHTML = "";
      items.forEach(t=>{
        const btn = document.createElement('button'); btn.className='card'; btn.style.textAlign='left'; btn.style.overflow='hidden';
        btn.innerHTML = `
          <img class="thumb" src="${t.img}" alt="${t.name}"/>
          <div style="padding:16px">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:600">${t.name}</div>
              <span class="price" style="color:${t.color}">${money(t.price)} ₽/шт</span>
            </div>
            <div class="muted" style="margin-top:6px;font-size:14px">${t.desc||""}</div>
            <div class="xs muted" style="margin-top:6px">Длина стебля: ${t.stem}</div>
          </div>`;
        btn.addEventListener('click', ()=>{ selected=t; updateSum(); });
        catalogList.appendChild(btn);
      });
      found.textContent = items.length;
    }
    search.addEventListener('input', ()=> renderCatalog(search.value.trim().toLowerCase()));
    let selected=null, qty=0;
    qtyInput.addEventListener('input', ()=>{ qty=parseInt(qtyInput.value||"0",10); updateSum(); });
    document.querySelectorAll('.qty-btn').forEach(b=> b.addEventListener('click', ()=>{ qty=parseInt(b.dataset.n,10); qtyInput.value=qty; updateSum(); }));
    function updateSum(){ sum.textContent = (selected && qty>0) ? money(selected.price*qty)+' ₽' : '— ₽'; }
    btnAdd.addEventListener('click', ()=> alert(selected ? `В корзину: ${selected.name} × ${qty}` : 'Сначала выберите сорт'));
    btnGoCheckout.addEventListener('click', ()=> switchTab('checkout'));
    renderCatalog();

    // TABS
    const sections={catalog,checkout,success,admin}; 
    document.querySelectorAll('.tab').forEach(t=> t.addEventListener('click', ()=> switchTab(t.dataset.tab)));
    function switchTab(name){
      Object.keys(sections).forEach(k=> sections[k].classList.toggle('hidden', k!==name));
      document.querySelectorAll('.tab').forEach(t=> t.classList.toggle('active', t.dataset.tab===name));
      window.scrollTo({top:0,behavior:'smooth'});
      if(name==='checkout') renderCart();
    }
    function showSuccess(){ switchTab('success'); }

    function renderCart(){
      cartList.innerHTML = '';
      if(!(selected && qty>0)){
        cartList.innerHTML = `<div class="muted" style="margin-top:8px">Пусто. Вернитесь в <button class="btn" onclick="switchTab('catalog')">каталог</button>.</div>`;
        return;
      }
      cartList.innerHTML = `
        <div style="display:flex;align-items:center;gap:12px;padding:8px 0;border-bottom:1px solid var(--border)">
          <img src="${selected.img}" style="width:64px;height:48px;object-fit:cover;border-radius:10px" />
          <div style="flex:1">
            <div style="font-weight:600">${selected.name}</div>
            <div class="xs muted">${money(selected.price)} ₽/шт</div>
          </div>
          <input class="input" style="width:80px" type="number" min="1" value="${qty}" />
          <div style="width:110px;text-align:right;font-weight:700">${money(selected.price*qty)} ₽</div>
          <button class="btn" onclick="selected=null; qty=0; renderCart();">Удалить</button>
        </div>
        <div style="display:flex;justify-content:space-between;padding-top:8px;font-weight:700">
          Итого <span>${money(selected.price*qty)} ₽</span>
        </div>`;
    }

    year.textContent = new Date().getFullYear();
  </script>
</body>
</html>
